# Создание простого чат-бота PyTorch с намерениями
с изменением намерений (создание своего файла намерений),
и внесением изменений в код в соответствии с требованиями домашнего задания, а именно: 
логирование хода обучения с использованием TensorBoard,
добавление функции для логирования вопросов/ответов (и создание файла json при его отсутствии).
## Дополнитель реализовано
чтение тегов из Excel и создание JSON для последующей обработки,
добавление обработки кодировки для русского текста,
изменение логики ответа на вопросы (ранее при одновременном вводе нескольких вопросов выводся один ответ, сейчас - ответ на каждый вопрос. Причем если среди нескольких одновременно задаваемых вопросов есть "непонятный" вопрос, он игнорируется, ответ на него не выводится).

## Установка

### Создание папки проекта, виртуального окружения и активации виртуального окружения
mkdir myproject
cd myproject
python3 -m venv venv
venv\Scripts\activate  (в Windows)

### Клонирование репозитория с чат-ботом
git clone https://github.com/patrickloeber/pytorch-chatbot.git

### Установка необходимых библиотек
pip install punkt_tab
pip install numpy
pip install torch
pip install openpyxl
pip install tensorboard

### Зависимости
pip freeze > requirement.txt

Содержимое файла:
click==8.1.7
colorama==0.4.6
filelock==3.16.1
fsspec==2024.10.0
Jinja2==3.1.4
joblib==1.4.2
MarkupSafe==3.0.2
mpmath==1.3.0
networkx==3.4.2
nltk==3.9.1
numpy==2.1.3
regex==2024.11.6
sympy==1.13.1
torch==2.5.1
tqdm==4.67.1
typing_extensions==4.12.2

### Файлы проекта
chat.py - содержит логику общения с чат-ботом,
data.pth - файл, содержащий результаты обучения чат-бота,
excel_to_json.py - содержит логику преобразования интентов из файла tags.xlsx в файл intents.json,
intents.json - содержит интенты (в виде tag (тегов), включающих patterns (вопросы) и responses (ответы)),
interaction_log.json - запись логов общения с чат-ботом,
model.py - нейронная сеть,
nltk_utils.py - файл предобработки текста,
tags.xlsx - первоначальный вид интентов в xlsx файле,
train.py - логика обучения чат-бота.
TensorBoard запускается в файле train.py.

## Обучение чат-бота
cd .\pytorch-chatbot\
python .\train.py
Модель сохраняется в data.pth
Изменение количества эпох: num_epochs = 700
python .\train.py

## Запуск чат-бота
python .\chat.py
quit
